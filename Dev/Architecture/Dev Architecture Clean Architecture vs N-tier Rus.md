# üß† Clean Architecture vs N-tier Rus

```
+------------------+---------------------------------------------------+---------------------------------------------------+
|                  |                CLEAN ARCHITECTURE                 |                 N‚ÄëTIER –ê–†–•–ò–¢–ï–ö–¢–£–†–ê                |
+------------------+---------------------------------------------------+---------------------------------------------------+
| üìå –ü—Ä–∏–Ω—Ü–∏–ø       | Dependency Rule: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä—å,   | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑: UI ‚Üí BL ‚Üí DAL ‚Üí DB       |
|                  | –¥–æ–º–µ–Ω –Ω–µ –∑–Ω–∞–µ—Ç –æ –≤–Ω–µ—à–Ω–∏—Ö —Å–ª–æ—è—Ö                     |                                                   |
+------------------+---------------------------------------------------+---------------------------------------------------+
| ‚úÖ –ü–ª—é—Å—ã          | - –í—ã—Å–æ–∫–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–æ–º–µ–Ω–∞                         | - –ü—Ä–æ—Å—Ç–∞—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è                  |
|                  | - –õ—ë–≥–∫–∞—è –∑–∞–º–µ–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã                    | - –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ                        |
|                  | - –û—Ç–ª–∏—á–Ω–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∏             | - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –∫–æ–º–∞–Ω–¥/–ø—Ä–æ–µ–∫—Ç–æ–≤          |
|                  | - –ì–∏–±–∫–æ—Å—Ç—å –ø—Ä–∏ —Ä–æ—Å—Ç–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏            | - –õ–æ–≥–∏—á–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ UI, –ª–æ–≥–∏–∫–∏ –∏ –¥–∞–Ω–Ω—ã—Ö         |
+------------------+---------------------------------------------------+---------------------------------------------------+
| ‚ö†Ô∏è –ú–∏–Ω—É—Å—ã         | - –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ              | - –ñ—ë—Å—Ç–∫–∏–µ —Å–≤—è–∑–∏ –¥–æ–º–µ–Ω–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã           |
|                  | - –ü–æ—Ä–æ–≥ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –≤—ã—à–µ                             | - –¢—è–∂–µ–ª–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω –±–µ–∑ –ë–î                  |
|                  | - –¢—Ä–µ–±—É–µ—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –∫–æ–º–∞–Ω–¥                        | - –ó–∞–º–µ–Ω–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫—É     |
|                  |                                                   | - –†–∏—Å–∫ `God Service` –≤ –±–∏–∑–Ω–µ—Å‚Äë—Å–ª–æ–µ                 |
+------------------+---------------------------------------------------+---------------------------------------------------+
| üéØ –ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞—Ç—å | - –°—Ä–µ–¥–Ω–∏–µ –∏ –∫—Ä—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã                        | - –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∫–æ—Ä–æ—Ç–∫–∏–º —Å—Ä–æ–∫–æ–º –∂–∏–∑–Ω–∏      |
|                  | - –î–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã            | - –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã –∏ MVP                                 |
|                  | - –ì–¥–µ –≤–∞–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å               | - –ö–æ–≥–¥–∞ –Ω–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–º—É –¥–æ–º–µ–Ω—É      |
+------------------+---------------------------------------------------+---------------------------------------------------+
```

---

##üîπ –í–æ–ø—Ä–æ—Å—ã –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏
- –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ç —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã?
- –ö–∞–∫ –≤—ã –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏?
- –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î?

## –û—Ç–ª–∏—á–∏—è –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –§–æ–∫—É—Å –∏ –ø—Ä–∞–≤–∏–ª–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
–í –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π (N‚Äëtier) –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ–±—ã—á–Ω–æ –∏–¥—ë—Ç —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑: Presentation ‚Üí Application/Domain ‚Üí Infrastructure; 
–¥–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–µ—Ä–µ–¥–∫–æ –∑–Ω–∞–µ—Ç –æ–± ORM/–ë–î. –í —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç ‚ÄúDependency Rule‚Äù: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã 
—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä—å, –∫ –¥–æ–º–µ–Ω—É; –¥–æ–º–µ–Ω –Ω–µ –∑–Ω–∞–µ—Ç –æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö, –ë–î –∏ UI.
- –ò–∑–æ–ª—è—Ü–∏—è –¥–æ–º–µ–Ω–∞:
–í N‚Äëtier —á–∞—Å—Ç–æ —Å–º–µ—à–∏–≤–∞—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (Active Record, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ ORM –≤–Ω—É—Ç—Ä–∏ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π). 
–í Clean –¥–æ–º–µ–Ω - ‚Äú—á–∏—Å—Ç—ã–π‚Äù: —Å—É—â–Ω–æ—Å—Ç–∏, value objects –∏ –¥–æ–º–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç EF, Web, –∫—ç—à–∞ –∏ –ø—Ä.
- –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:
–í N‚Äëtier –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –º–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç ‚Äú–ø—Ä–æ—Ç–µ–∫–∞—Ç—å‚Äù —á–µ—Ä–µ–∑ —Å–ª–æ–∏ (Entity ‚Üí DTO ‚Üí ViewModel). 
–í Clean –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏: Domain Entities, Application DTO/Commands/Queries, Transport DTO (API), 
Persistence models (EF configurations).
- –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å:
Clean –æ–±–ª–µ–≥—á–∞–µ—Ç –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–æ–º–µ–Ω–∞ –∏ –∑–∞–º–µ–Ω—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, EF ‚Üí Dapper) –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è 
–±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª. –í N‚Äëtier —Ç–∞–∫–∞—è –∑–∞–º–µ–Ω–∞ –¥–æ—Ä–æ–∂–µ –∏–∑‚Äë–∑–∞ –±–æ–ª–µ–µ –∂—ë—Å—Ç–∫–∏—Ö —Å–≤—è–∑–µ–π.
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–µ—à–µ–Ω–∏–π:
–ü—Ä–∏–º–µ—Ä Clean –≤ .NET:
- Domain (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- Application (–∑–∞–≤–∏—Å–∏—Ç –Ω–∞ Domain; –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–æ—Ä—Ç–æ–≤)
- Infrastructure (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Ä—Ç–æ–≤, EF, –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã; –∑–∞–≤–∏—Å–∏—Ç –Ω–∞ Application/Domain)
- Web/API/UI (–∑–∞–≤–∏—Å–∏—Ç –Ω–∞ Application; –≤–Ω–µ–¥—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

## –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
- –ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DIP):
- –ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤–æ ‚Äú–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö‚Äù —Å–ª–æ—è—Ö: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–æ—Ä—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, IOrderRepository) –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –≤ Application/Domain.
- –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–æ ‚Äú–≤–Ω–µ—à–Ω–∏—Ö‚Äù —Å–ª–æ—è—Ö: –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –±—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π, –∞–¥–∞–ø—Ç–µ—Ä—ã API ‚Äî –≤ Infrastructure.
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (Composition Root):
- –ì–¥–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: –≤ —Ç–æ—á–∫–µ –≤—Ö–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Web/API –ø—Ä–æ–µ–∫—Ç).
- –ß—Ç–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ Infrastructure –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–∑ Application/Domain.
- –ì—Ä–∞–Ω–∏—Ü—ã –∏ –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏:
- DTO/–º–æ–¥–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤: UI/API –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞—Ä—É–∂—É; –º–∞–ø–ø–∏–Ω–≥ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–∏–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, AutoMapper).
- –ê–Ω—Ç–∏–∫–æ—Ä—Ä—É–ø—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ–π: –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º –∏ –ª–µ–≥–∞—Å–∏-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ ‚Äî –∞–¥–∞–ø—Ç–µ—Ä—ã, —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è –º–æ–¥–µ–ª–µ–π –∏ –æ—à–∏–±–æ–∫.
- –ö—Ä–æ—Å—Å-—Å–µ—á–µ–Ω–∏—è (cross-cutting):
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–µ—à, —Ä–µ—Ç—Ä–∞–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: —á–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã/–ø–∞–π–ø–ª–∞–π–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, MediatR Pipeline Behaviors) –∏–ª–∏ middleware, –∞ –Ω–µ –≤ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.
- –í–∞–ª–∏–¥–∞—Ü–∏—è: –≤ Application-—Å–ª–æ–µ (FluentValidation) –¥–ª—è –∫–æ–º–∞–Ω–¥/–∑–∞–ø—Ä–æ—Å–æ–≤.
- –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ (DIP + DI):
```
// Domain
public interface IOrderRepository {
    Task<Order?> GetByIdAsync(Guid id);
    Task SaveAsync(Order order);
}

// Application
public class PlaceOrderHandler {
    private readonly IOrderRepository repo;
    public PlaceOrderHandler(IOrderRepository repo) => repo = repo;
    public async Task Handle(PlaceOrder cmd) { /* –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞, repo.SaveAsync(...); */ }
}

// Infrastructure
public class EfOrderRepository : IOrderRepository {
    private readonly AppDbContext db;
    public EfOrderRepository(AppDbContext db) => this.db = db;
    public Task<Order?> GetByIdAsync(Guid id) => db.Orders.FindAsync(id).AsTask();
    public Task SaveAsync(Order order) { db.Update(order); return db.SaveChangesAsync(); }
}

// Composition Root (Web/API)
services.AddDbContext<AppDbContext>(...);
services.AddScoped<IOrderRepository, EfOrderRepository>();
services.AddScoped<PlaceOrderHandler>();
```

## –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫—É –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- –Æ–Ω–∏—Ç‚Äë—Ç–µ—Å—Ç—ã ‚Äú—á–∏—Å—Ç–æ–≥–æ‚Äù –¥–æ–º–µ–Ω–∞:
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –¥–µ—Ä–∂–∞—Ç—å –≤ Domain/Application, –∑–∞–≤–∏—Å—è—â–∏—Ö –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç EF/SQL.
- –ü—Ä–∞–∫—Ç–∏–∫–∞: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –±–µ–∑ –º–æ–∫–æ–≤ (—á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, value objects, –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã).
- –ú–æ–∫–∏/—Ñ–µ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤:
- –ö–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ: –¥–ª—è Application‚Äë—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (use cases), –≥–¥–µ –Ω—É–∂–Ω–æ ‚Äú–ø–æ–¥–º–µ–Ω–∏—Ç—å‚Äù —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: Moq/NSubstitute/JustMock –¥–ª—è –º–æ–∫–æ–≤; —Ñ–µ–π–∫–∏ ‚Äî –ø—Ä–æ—Å—Ç—ã–µ in‚Äëmemory —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.
- –ü—Ä–∏–º–µ—Ä —Å Moq:
```
[Fact]
public async Task PlaceOrder_Should_Save_Order() {
    var repo = new Mock<IOrderRepository>();
    var handler = new PlaceOrderHandler(repo.Object);

    await handler.Handle(new PlaceOrder { /*...*/ });

    repo.Verify(r => r.SaveAsync(It.IsAny<Order>()), Times.Once);
}
```
- –ü—Ä–∏–º–µ—Ä —Å —Ñ–µ–π–∫–æ–º:
```
public class InMemoryOrderRepository : IOrderRepository {
    private readonly Dictionary<Guid, Order> store = new();
    public Task<Order?> GetByIdAsync(Guid id) =>
        Task.FromResult(store.TryGetValue(id, out var o) ? o : null);
    public Task SaveAsync(Order order) { store[order.Id] = order; return Task.CompletedTask; }
}
```
- InMemory‚Äë–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ –∏—Ö –ª–æ–≤—É—à–∫–∏:
- EF Core InMemory: –±—ã—Å—Ç—Ä–æ, –Ω–æ –Ω–µ –∏–º–∏—Ç–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ SQL (–Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏, –¥—Ä—É–≥–æ–π –ø–ª–∞–Ω–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤). –•–æ—Ä–æ—à –¥–ª—è unit/service‚Äë—Ç–µ—Å—Ç–æ–≤, –Ω–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ LINQ‚Äë–∫‚ÄëSQL –Ω—é–∞–Ω—Å–æ–≤.
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: SQLite In‚ÄëMemory —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ ‚Äî –±–ª–∏–∂–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–π –ë–î.
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å:
- Test Data Builders/Object Mother: –∏–∑–±–µ–≥–∞–π ‚Äú–º–∞–≥–∏—á–µ—Å–∫–∏—Ö‚Äù –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö.
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω; Arrange ‚Üí Act ‚Üí Assert.
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- –ò–¥–µ—è: –æ–¥–∏–Ω –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª—é–±—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é IOrderRepository (in‚Äëmemory, EF, Dapper) –Ω–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.
- –ü—Ä–æ—Ñ–∏—Ç: –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω—è—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —Å–æ—Ö—Ä–∞–Ω—è—è –≥–∞—Ä–∞–Ω—Ç–∏—é –ø–æ–≤–µ–¥–µ–Ω–∏—è.
- –ü–∞–π–ø–ª–∞–π–Ω—ã/–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø–æ–¥ —Ç–µ—Å—Ç–∞–º–∏:
- –í–∞–ª–∏–¥–∞—Ü–∏—è/–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ/–∫–µ—à: –ø—Ä–æ–≤–µ—Ä—è–π –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –¥–æ–º–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, MediatR Behaviors), —á—Ç–æ–±—ã –Ω–µ —Å–º–µ—à–∏–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
